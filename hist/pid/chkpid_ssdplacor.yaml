anchor: 
  - &s2z_proc ["mass.fZ",500,8,30]
  - &s2aq_proc ["mass.fAq",500,1.7,2.3]
  - &s2z_proc_zcal ["mass_zcal.fZ",500,8,30]
  - &s2z_proc_zcal_narrow ["mass_zcal.fZ",500,16,30]
  - &s2z_proc_pla ["mass_pla.fZ",500,8,30]
  - &s2z_proc_pla_narrow ["mass_pla.fZ",500,16,30]
  - &aq ["s2aq",500,1.7,2.3]


alias:
 ssdplacoin: TMath::Abs(mass_pla.fZ-mass_zcal.fZ) < 0.5;
# ssdplacoin_true: TMath::Abs(mass_pla.fZ-mass_zcal.fZ) < 0.5;
 tof30 : sr0_a_cal.fTiming - dia3pad[0].fTiming;
 tof32 : dias2pad[0].fTiming - dia3pad[0].fTiming;
# tof32 : ((dias2pad_5ps_raw.fCharge-tc842_raw.fCharge)+5.0e4)*1.e-3+2444.31;
 s0.fX : sr0_xc0[0].fPosition + 49.28;
 s0xc  : s0.fX-24.0*(tof30-1066.);
 s2de  : 1.03827*S2ssd.fEx*0.866;
 s2brho: 4.4147*(1-sr0_xc0[0].fPosition/14856);
 s2beta: 103499.78 / ( 299.79 * tof32 - 299.79 * 1455. );
 s2gamma: 1./TMath::Sqrt(1-(s2beta)*(s2beta)); 
 s2aq  : s2brho * 299.79 / (s2gamma * s2beta * 931.49);
 de_v  : TMath::Log(5907.5*s2beta*s2beta)-TMath::Log(1.-s2beta*s2beta)-s2beta*s2beta; 
 s2z   : -0.0513 + 7.451*TMath::Sqrt(s2de/de_v) * s2beta; 


group:
  - name: pid_offline 
    title: PID offline
    contents:
      - name: pid_mass    
        title: PID proc
        x: *s2aq_proc
        y: *s2z_proc
      - name: pid_ssd_cor
        title: PID ssd_cor (Z)
        x: *s2aq_proc
        y: *s2z_proc_zcal
      - name: pid_pla_cor
        title: PID pla_cor (Z)
        x: *s2aq_proc
        y: *s2z_proc_pla
      - name: pid_ssdplacoin
        title: PID ssd_cor ( pla coin )
        cut: ssdplacoin
        x: *s2aq_proc
        y: *s2z_proc_zcal
      - name: z_ssd_cor
        title: Z ssd_cor 
        x: *s2z_proc_zcal_narrow
      - name: z_pla_cor
        title: Z pla_cor 
        x: *s2z_proc_pla_narrow
      - name: pid_aqalias_zcor
        title: Z_ssd_cor vs Aq alias 
        cut: ssdplacoin
        x: *aq
        y: *s2z_proc_zcal
      - name: zz_ssdplacoin
        title: Z_pla vs Z_cor
        x: *s2z_proc_zcal_narrow
        y: *s2z_proc_pla_narrow



