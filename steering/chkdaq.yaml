Anchor:
 - &input /mnt/data/sh13/apv/@NAME@@NUM@.ridf
 - &output output/@NAME@/@NUM@/apv@NAME@@NUM@.root

Processor:
  - name: timer
    type: art::TTimerProcessor

  - name: ridf
    type: art::TRIDFEventStore
    parameter:
      OutputTransparency: 1
      InputFiles:
        - *input
        
  - name: mapper
    type: art::TMappingProcessor
    parameter:
      OutputTransparency: 1
      MapConfig: conf/map/apv/mapper.conf

#  - include: apv/apv8008.yaml
         
  - name: apv8008
    type: art::TTimingChargeAPV8008Processor
    parameter:
      CatID: 1
      TimingTypeID: 0
      TrailingComesFirst: 0
      OutputCollection: rawdata
      OutputTransparency: 0
      Ch1gain: 0.6776
      Ch1offset: -2.9456
      Ch2gain: 0.6785
      Ch2offset: -2.3264
      Ch3gain: 0.1945
      Ch3offset: -0.9015
      Ch4gain: 0.1944
      Ch4offset: -1.1307
          
#  - name: apv8008test
#    type: art::TTimingChargeMappingProcessor
#    parameter:
#      CatID: 1
#      TimingTypeID: 0
#      TrailingComesFirst: 0
#      OutputCollection: test
#      OutputTransparency: 0

  - name: outputtree
    type: art::TOutputTreeProcessor
    parameter:
      FileName: 
        - *output
