Anchor:
 - &input ridf/physics@NUM@.ridf
 - &output sh13_analysis/hanai/physics/@NUM@/chks2pla_calib.@NUM@.root
 - &histout sh13_analysis/hanai/physics/@NUM@/chks2pla_calib.@NUM@.hist.root

Processor:
  - name: ridfevent
    type: art::TRIDFEventStore
    parameter:
      OutputTransparency:  1
      InputFiles:
        - *input

  - name: timer
    type: art::TTimerProcessor

  - name: mapper
    type: art::TMappingProcessor
    parameter:
      MapConfig: mapper.conf

  - name: proc_gateinit
    type: art::TGateArrayInitializer
    parameter:
      OutputTransparency: 1

  - include: tref.yaml
  - include: trig.yaml
#  - include: bld/pla/pla_os22s.yaml
  - include: 
      name: bld/pla/pla_sh13.yaml
      replace: 
        CID: 108
        FP: s2
        RUN: @NUM@ 

  - include: bld/dia/dia.yaml         # dia v1290
#  - include: bld/dia/dia_tc842_strip.yaml # dia tc842 using strip
#  - include: bld/srppac/srppac.yaml
  - include: bld/si/ssd.yaml
#  - include: pi/pid.yaml
#  - include: bld/mwdc/chkmwdc_local.yaml

  - name: projection_chkpla
    type: art::TTreeProjectionProcessor
    parameter:
      FileName: hist/pla/chkpla_calib.yaml
      Type:     art::TTreeprojection
      OutputFilename: *histout
 
  - name: outputtree
    type: art::TOutputTreeProcessor
    parameter:
      FileName: 
        - *output

